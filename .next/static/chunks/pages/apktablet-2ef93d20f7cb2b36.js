(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[116],{98126:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/apktablet",function(){return t(58151)}])},58151:function(e,n,t){"use strict";t.r(n);var s=t(85893),a=t(67294);t(50637),n.default=()=>{let[e,n]=(0,a.useState)(["","","",""]),[t,r]=(0,a.useState)(null),[i,l]=(0,a.useState)(null),[c,u]=(0,a.useState)(!1),o=(0,a.useRef)([]),h=(t,s)=>{if(!/^\d?$/.test(s))return;let a=[...e];a[t]=s,n(a),""!==s&&t<3&&o.current[t+1].focus()},d=(n,t)=>{"Backspace"===t.key&&!e[n]&&n>0&&o.current[n-1].focus()},j=async()=>{let n=e.join("");if(4!==n.length){l("Please enter a 4-digit PIN");return}try{let e=await fetch("/api/checkPin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pin:n})}),t=await e.json();e.ok?(r(t),l(null),u(!0)):(l(t.error),r(null))}catch(e){l("Something went wrong")}};return(0,s.jsx)("div",{className:"container",children:c?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{className:"back-button",onClick:()=>{u(!1),n(["","","",""]),l(null)},children:"â¬… Back"}),(0,s.jsxs)("div",{className:"result",children:[(0,s.jsxs)("h3",{children:["Name: ",t.name]}),(0,s.jsx)("h4",{children:"Assigned Tables:"}),(0,s.jsx)("ul",{children:t.tables.map((e,n)=>(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:e.tableName})," - Seats: ",e.seatNumber," - Status: ",e.status]},n))})]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{children:"Enter 4-Digit PIN"}),(0,s.jsx)("div",{className:"pinInputs",children:e.map((e,n)=>(0,s.jsx)("input",{type:"text",maxLength:"1",value:e,ref:e=>o.current[n]=e,onChange:e=>h(n,e.target.value),onKeyDown:e=>d(n,e)},n))}),(0,s.jsx)("button",{onClick:j,className:"button",children:"Submit"}),i&&(0,s.jsx)("p",{className:"error",children:i})]})})}},50637:function(){}},function(e){e.O(0,[888,774,179],function(){return e(e.s=98126)}),_N_E=e.O()}]);