exports.id=6080,exports.ids=[6080],exports.modules={244:(e,A,t)=>{"use strict";t.d(A,{Ll:()=>a});let a={logo:{src:"/_next/static/media/logo.9b7e2eed.png",height:34,width:173,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAMAAABSSm3fAAAAFVBMVEX/SyP/SyP/TCT/TCT/SyX/TCL/TCO6osRBAAAAB3RSTlN/mlQ7Sm6Qb3y0bwAAAAlwSFlzAAALEwAACxMBAJqcGAAAABpJREFUeJxjYGBmYmJmYmBhYGBkYGBkY2UEAAELAB9wFUuZAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:2},basket_icon:{src:"/_next/static/media/basket_icon.f06f575e.png",height:30,width:29,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAJ1BMVEVGUH9IVX5KVoBIVH1IVX1IVX5JVX1KV4FIVX9IVHxIVH5KVn9PXIm5btyJAAAAC3RSTlMF9992hZzBZR6vbdd9bSwAAAAJcEhZcwAACxMAAAsTAQCanBgAAAA3SURBVHicHcKJDQAxCASxWSDkWfqv96SzDKw/7IJ6cC1bvljd3TLhyiwHayIzZrFHkmZzwrbjfCizAVIKl7lyAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},header_img:{src:"/_next/static/media/header_img.33c06874.png",height:650,width:1534,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAMAAACZFr56AAAAM1BMVEXqbjG7l2iyelC8e07IYiuJZTDagEbqaRbsXyLiYQ6viXCVbk7RUyTPcDyeimG0iFq9o4oT5kX8AAAACHRSTlP+/////////kgsYtwAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAjSURBVHicY2BgYeNnZONkZ+DgYWLlE+DlZODgYGbl5mLhBAAJPgC6qnYWuwAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:3},search_icon:{src:"/_next/static/media/search_icon.424a97b6.png",height:27,width:27,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAHlBMVEVMaXFIVX5IVH1IVH5JVH1ATXNHVX5LVn9IVHlKVHz2MxD+AAAACnRSTlMAkXifZwYcOCxQMCdu8gAAAAlwSFlzAAALEwAACxMBAJqcGAAAADFJREFUeJwtyskNACAMxMDZhKv/ihESP8s2o9MDI6iip0mWeFRb++blP6aSPlh7OX0BETMAiSLSWQkAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},rating_starts:{src:"/_next/static/media/rating_starts.d44fe30c.png",height:19,width:95,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAMAAABSSm3fAAAACVBMVEX/aS3/cxj/cRtmIP1SAAAAA3RSTlNlKi9w0DxkAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAEElEQVR4nGNggAAmKM3ACAAAJwAE9zRXOAAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:2},add_icon_green:{src:"/_next/static/media/add_icon_green.b91f48ee.png",height:34,width:35,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAJ1BMVEXU/9bf/+DX/9nU/9fP/9JMaXHW/9jA+MRu4net9LOj8KlJ2FVF11IBaxTaAAAABnRSTlP5/r82QAA+sSmXAAAACXBIWXMAAAsTAAALEwEAmpwYAAAANElEQVR4nDXLORIAIAzDQDkBc/7/vUwKaq3oGRDZacgWjZDGkALMnBjwOneZSntXKkzhvz8ddADSjri85AAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},add_icon_white:{src:"/_next/static/media/add_icon_white.86b82e30.png",height:50,width:50,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAG1BMVEX////7+/v19fUqKiqqqqoAAAD39/e/v7+pqam7fG4UAAAAB3RSTlP+pl4BBgP7lDBLBQAAAAlwSFlzAAALEQAACxEBf2RfkQAAADBJREFUeJw9i7ENADAIw5wAhf8vrhjayZacEGnJGZQAVHgJRtANWplZMZyz6Y/f/QIQNQB3Dd34XQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},remove_icon_red:{src:"/_next/static/media/remove_icon_red.5bd46583.png",height:34,width:35,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAJFBMVEX/0ND/1dX/0dH/zs7/0dFMaXH/1tb/19f/3d3/mJj/enr/vr78xV8aAAAACHRSTlP7+zZAugDDx25X9QcAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAySURBVHicRYsxDgAgDIQ4q/XU///XdDBuJACjdehtEDJYQVo2nqCzFqJg74I0pfLHb78jEQD38OrmagAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},app_store:{src:"/_next/static/media/app_store.07cd3f31.png",height:69,width:199,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAMAAACZFr56AAAAJ1BMVEUQEBAKCgoqKiodHR0AAAAAAAAAAAAiIiITExM5OTlISEgmJiasrKwogux4AAAACnRSTlPi7ebj0Kqi4ef+0Oh5xQAAAAlwSFlzAAALEwAACxMBAJqcGAAAACBJREFUeJxj4GAAAUY2Bh5OLi4uLm4WBiYGJmZmdkZWAAXdAHMp1AzcAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:3},play_store:{src:"/_next/static/media/play_store.d04bf9aa.png",height:69,width:216,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAMAAACZFr56AAAAJFBMVEUTExMABAEiIiIAAAAAAAAAAAAzMzMbBwQwLipBQUJpWiYcHBwgK2MwAAAACXRSTlPj4+PRzPTj5/5T1SfuAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIklEQVR4nAXBgQEAIAjDsG6iOPz/XxMESCrmJsnbND426wME7gBlBQ+fBwAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:3},linkedin_icon:{src:"/_next/static/media/linkedin_icon.6620e6a2.png",height:44,width:44,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAHlBMVEX///////9MaXH////////////////////////////isepOAAAACnRSTlM0KgAgIj1phkupxh6BuAAAAAlwSFlzAAALEwAACxMBAJqcGAAAADJJREFUeJxFyrkRwDAMBLG9pain/4Y1VuIMAbBIKBlRzaDtj4B7nX6YZ82HbGL/2QIoLxc8AKKZg4iZAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},facebook_icon:{src:"/_next/static/media/facebook_icon.e1394559.png",height:44,width:44,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAGFBMVEX///////9MaXH///////////////////9oteHBAAAACHRSTlMyIQA6KoGoAyL7zRgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAwSURBVHicRcrJCcBAEMRAtebY/DNejA3+FUgYaCJp1Q6lNUdAd30x86Ge/M+mgHgBE6EAh4njvF4AAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},twitter_icon:{src:"/_next/static/media/twitter_icon.01b3239a.png",height:44,width:44,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAJ1BMVEX///9MaXH////////////////////////////////////////////p5JkSAAAADXRSTlM1AC0hJRHa/I+tVa9yfklFjAAAAAlwSFlzAAALEwAACxMBAJqcGAAAADVJREFUeJwty0kOgDAQxEB7mknC8v/3IiKuVhlDFZGU6hGw5RLwOcewQOZcu/S9Wn5c4dshvhb1AKO7jvtXAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},cross_icon:{src:"/_next/static/media/cross_icon.f943b4fe.png",height:20,width:20,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAJ1BMVEVLS0tDQ0NMaXFCQkJDQ0NBQUFDQ0NERERCQkJCQkJISEhERERHR0cA3HJWAAAADXRSTlMDlAAgzzZXtGs+B6j68xxMpAAAAAlwSFlzAAALEwAACxMBAJqcGAAAADdJREFUeJwVyUESACEIA8FkAEHd/793y2u3ykh4iWvwPUI9No/ja4SInF5IkUPkRl4cIktvxa4fH6UA5Sb+oU0AAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},selector_icon:{src:"/_next/static/media/selector_icon.d0861457.png",height:18,width:18,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAJFBMVEX/TSL/SSD/TiVMaXH/TSX/YDz/Tyb/TCT/Qxj/yb3/x7r////FI9QHAAAACHRSTlP9K/AAsvmut2NOXkMAAAAJcEhZcwAACxMAAAsTAQCanBgAAAA0SURBVHicRcoxDgAgDMNAJy20wP//y8DAZulMKHEpkOnGIhlrDSbufc5u4IWZj/LPoTKpuCfwARtoJo1hAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},profile_icon:{src:"/_next/static/media/profile_icon.db7957ea.png",height:32,width:26,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAICAMAAAAC2hU0AAAAJFBMVEVKVn9MaXFIU31HVHxIVX1IU31VVapLVH5NWoZIVH1IVX5PXIiq/GICAAAAC3RSTlP9AFJpS6IDLfPNzBxrKLAAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAxSURBVHicFcGBEcAgDAOxd5wArfffl0NCHVJCnaTFUk1poW17C5MEc3gOEyCD6uMvXR7nAOplch9xAAAAAElFTkSuQmCC",blurWidth:7,blurHeight:8},logout_icon:{src:"/_next/static/media/logout_icon.a8075acd.png",height:32,width:32,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAGFBMVEX/aUj/Ykf/ZEj/Y0hMaXH/Y0j/Y0f/ZlUOB9AyAAAACHRSTlMHRYdRADRyDwMDiNQAAAAJcEhZcwAACxMAAAsTAQCanBgAAAArSURBVHicVYtLCgAgEIV8n+r+Nw6CWbQTVLqirBYcxRQ2RQ+OZH8wauLZLxdOAKW7NL72AAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},bag_icon:{src:"/_next/static/media/bag_icon.e86225ee.png",height:32,width:32,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAFVBMVEX/V0D/YkX/Y0f/Y0P/Ykb/Y0b/YUbcmzpEAAAAB3RSTlMCYlQZI4dv9IGuwgAAAAlwSFlzAAALEwAACxMBAJqcGAAAACtJREFUeJxth7ENADAMg0xs9/+Tq6hrWQBJgWg5yVlT6EievfEn8iJyAeoLDw4AbBWNXZMAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},parcel_icon:{src:"/_next/static/media/parcel_icon.76a7ee0a.png",height:60,width:60,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAS1BMVEX7jwD/jgDxnT//05D5jQH/36f2ewBMaXH/mQD/mwDvbwD8jgD4fAD/mAD/qCXVeAX/z4f8v2f/3Kr6pED7nyb/uVH+rjP/kgD/uED4ClXxAAAAF3RSTlMVDQns/RrmAOr+MNjN1dT8xf3nzv0W/PdymNUAAAAJcEhZcwAACxMAAAsTAQCanBgAAAA9SURBVHicPcZJEoAgDEXBByT+4ISz3v+kVrmwV42UT3cX8qVsZYc0P+t1dEBYM/tSa/1zjxmmiBh6IYAkvUpEAeAmvAXkAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}}},35234:(e,A,t)=>{"use strict";t.d(A,{Z:()=>s});var a=t(20997);t(16689),t(8535);var i=t(39332);let s=()=>{let e=(0,i.useRouter)();return(0,a.jsxs)("div",{className:"footer",id:"footer",children:[(0,a.jsxs)("div",{className:"footer-content",children:[(0,a.jsxs)("div",{className:"footer-content-left",children:[(0,a.jsxs)("a",{href:"http://localhost:3000/",children:["   ",a.jsx("img",{src:"/logo.png",alt:"Logo"})]}),a.jsx("p",{children:"Welcome to our food website, where we bring you an exquisite collection of mouth-watering dishes that cater to every taste. Explore our diverse categories, including salads, rolls, desserts, sandwiches, cakes, pure veg, pasta, and noodles."}),(0,a.jsxs)("div",{className:"footer-social-icon",children:[a.jsx("img",{src:"/facebook_icon.png",alt:"Facebook"}),a.jsx("img",{src:"/twitter_icon.png",alt:"Twitter"}),a.jsx("img",{src:"/linkedin_icon.png",alt:"LinkedIn"})]})]}),(0,a.jsxs)("div",{className:"footer-content-center",children:[a.jsx("h2",{children:"COMPANY"}),(0,a.jsxs)("ul",{children:[a.jsx("li",{onClick:()=>{e.push("MyOrder")},children:"My Order"}),a.jsx("li",{onClick:()=>{e.push("TermsAndConditions")},children:"  Terms and Conditions"}),a.jsx("li",{onClick:()=>{e.push("Privacy-policy")},children:"Privacy policy"}),a.jsx("li",{onClick:()=>{e.push("Refund-and-Return-Policy")},children:" Refund and Return Policy"})]})]}),(0,a.jsxs)("div",{className:"footer-content-right",children:[a.jsx("h2",{children:"GET IN TOUCH"}),(0,a.jsxs)("ul",{children:[a.jsx("li",{children:"+91-9001498993"}),a.jsx("li",{children:"info@temoto.com"})]})]})]}),a.jsx("hr",{}),(0,a.jsxs)("p",{className:"footer-copyright",children:["Copyright 2024 \xa9",a.jsx("a",{href:"http://localhost:3000/",children:" Tomato.com"})," - All Right Reserved."]})]})}},59103:(e,A,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.d(A,{Z:()=>n});var i=t(20997),s=t(16689);t(97651);var r=t(3590);t(88819);var l=e([r]);r=(l.then?(await l)():l)[0];let o=[{code:"+91",flag:"\uD83C\uDDEE\uD83C\uDDF3"},{code:"+1",flag:"\uD83C\uDDFA\uD83C\uDDF8"},{code:"+44",flag:"\uD83C\uDDEC\uD83C\uDDE7"}],n=({setShowLogin:e,setIsLoggedIn:A})=>{let[t,a]=(0,s.useState)("Enter details"),[l,n]=(0,s.useState)({mobileNumber:"",countryCode:"+91",otp:""}),[c,d]=(0,s.useState)(null),[h,g]=(0,s.useState)(!1),[u,m]=(0,s.useState)(!1),[p,x]=(0,s.useState)(0),[b,f]=(0,s.useState)(0),[C,j]=(0,s.useState)(!1);(0,s.useRef)(null),(0,s.useEffect)(()=>{if(h&&p>0){let e=setInterval(()=>{x(e=>e>0?e-1:0)},1e3);return()=>clearInterval(e)}},[h,p]);let w=e=>{n({...l,[e.target.name]:e.target.value})},E=10===l.mobileNumber.length,S=6===l.otp.length,y=async i=>{i.preventDefault(),d(null),m(!0);try{if("Enter details"===t){if(!/^\d{10}$/.test(l.mobileNumber)){d("Please enter a valid 10-digit mobile number"),m(!1);return}let e=await fetch("/api/send-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mobileNumber:`${l.countryCode}${l.mobileNumber}`})}),A=await e.json();if(!e.ok)throw Error(A.error||"Failed to send OTP");g(!0),x(60),a("Verify OTP"),r.toast.success("OTP sent successfully")}else if("Verify OTP"===t){let t=l.otp;if(6!==t.length){d("Please enter the complete OTP"),m(!1);return}let a=await fetch("/api/verify-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mobileNumber:`${l.countryCode}${l.mobileNumber}`,otp:t})}),i=await a.json();if(!a.ok)throw Error(i.error||"Invalid OTP");let s=new Date().getTime();localStorage.setItem("token",i.token),localStorage.setItem("tokenExpiry",s+36e5),r.toast.success("Login successful"),A(!0),e(!1)}}catch(e){d(e.message)}finally{m(!1)}},N=async()=>{if(p>0){r.toast.info("Please wait until the OTP expires");return}if(b>=3){x(900),r.toast.warning("Too many attempts. Please try again after 15 minutes.");return}m(!0),d(null);try{let e=await fetch("/api/send-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mobileNumber:`${l.countryCode}${l.mobileNumber}`})}),A=await e.json();if(!e.ok)throw Error(A.error||"Failed to resend OTP");x(60),f(e=>e+1),r.toast.success("OTP resent successfully")}catch(e){d(e.message)}finally{m(!1)}};return(0,i.jsxs)("div",{className:"login-popup",children:[i.jsx(r.ToastContainer,{}),(0,i.jsxs)("form",{className:"login-popup-container",onSubmit:y,children:[(0,i.jsxs)("div",{className:"login-popup-title",children:[i.jsx("h2",{children:t}),i.jsx("img",{onClick:()=>e(!1),src:"/cross_icon.png",alt:"Close",className:"login-cross"})]}),c&&i.jsx("p",{className:"error",children:c}),(0,i.jsxs)("div",{className:"login-popup-inputs",children:["Enter details"===t&&i.jsx(i.Fragment,{children:(0,i.jsxs)("div",{className:"country-code-dropdown",children:[i.jsx("select",{name:"countryCode",value:l.countryCode,onChange:w,children:o.map((e,A)=>(0,i.jsxs)("option",{value:e.code,children:[e.flag," ",e.code]},A))}),i.jsx("div",{className:"mobile-number-input",children:i.jsx("input",{type:"number",name:"mobileNumber",placeholder:"Your mobile number",value:l.mobileNumber,onChange:w,disabled:h,required:!0,pattern:"\\d{10}",onFocus:()=>j(!0),title:"Please enter exactly 10 digits."})})]})}),h&&i.jsx("div",{className:"otp-input",children:i.jsx("input",{type:C?"text":"password",name:"otp",placeholder:"•  •  •  •  •  •",value:l.otp,onChange:e=>{let A=e.target.value;/^\d{0,6}$/.test(A)&&n({...l,otp:A})},onFocus:()=>j(!0),onBlur:()=>j(!1),required:!0})})]}),(0,i.jsxs)("div",{className:"button-container",children:[!h&&i.jsx("button",{type:"submit",disabled:!E||u,children:u?"Sending...":"Send OTP"}),h&&i.jsx("button",{type:"submit",disabled:!S||u,children:u?"Verifying...":"Verify OTP"}),h&&p>0&&(0,i.jsxs)("p",{className:"otp-expiry-info",children:["Resend OTP in: ",(e=>{let A=Math.floor(e/60),t=e%60;return A>0?`${A}m:${t}s`:`${t}s`})(p)]})]}),h&&0===p&&(0,i.jsxs)("p",{className:"resend-otp",children:["Didn’t receive code?"," ",i.jsx("span",{className:"request-again",onClick:N,children:"Request again"})]})]})]})};a()}catch(e){a(e)}})},8014:(e,A,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.d(A,{Z:()=>h});var i=t(20997),s=t(16689),r=t(25675),l=t.n(r);t(91427);var o=t(244),n=t(39332),c=t(82377),d=e([c]);c=(d.then?(await d)():d)[0];let h=({isLoggedIn:e,setShowLogin:A,handleLogout:t})=>{let[a,r]=(0,s.useState)(!1),d=(0,n.useRouter)(),h=(0,n.usePathname)(),[g,u]=(0,s.useState)(null),[m,p]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=()=>{let e=localStorage.getItem("token");e?u(e):t()},t=()=>{localStorage.removeItem("token"),u(null),A(!0),d.push("/")};e();let a=setInterval(e,5e3);return()=>clearInterval(a)},[d,A]);let x=async()=>{r(!0),setTimeout(async()=>{g?await d.push("/Cart"):A(!0),r(!1)},1500)};return(0,i.jsxs)("nav",{className:"navbar",children:[i.jsx("div",{className:"logo",children:i.jsx("a",{href:"/",children:i.jsx(l(),{src:o.Ll.logo,alt:"Logo"})})}),i.jsx("div",{className:"navbar-menu",children:(0,i.jsxs)("ul",{children:[i.jsx("li",{children:i.jsx("a",{href:"/",className:"/"===h?"active":"",children:"Home"})}),i.jsx("li",{children:i.jsx("a",{href:"/About-us",className:"/About-us"===h?"active":"",children:"About us"})}),i.jsx("li",{children:i.jsx("a",{href:"/",className:"/Blog"===h?"active":"",children:"Blog"})}),i.jsx("li",{children:i.jsx("a",{href:"#footer",className:"/Contact-us"===h?"active":"",children:"Contact us"})})]})}),i.jsx("div",{className:"navbar-right basket",children:i.jsx(l(),{onClick:()=>{"/"===h&&(g?p(!0):A(!0))},src:o.Ll.search_icon,alt:"Search",className:`searchButton ${"/"!==h?"disabled":""}`,style:"/"!==h?{cursor:"not-allowed"}:{}})}),i.jsx("div",{className:"navbar-search-icon",children:a?i.jsx("div",{className:"spinner"}):i.jsx(i.Fragment,{children:(0,i.jsxs)("div",{className:"basket",children:[i.jsx(l(),{src:o.Ll.basket_icon,alt:"Cart",onClick:x,className:"basketIcon"}),i.jsx("div",{className:"dot"})]})})}),g?(0,i.jsxs)("div",{className:"navbar-profile",children:[i.jsx(l(),{src:o.Ll.profile_icon,alt:"Profile"}),(0,i.jsxs)("ul",{className:"nav-profile-dropdown",children:[(0,i.jsxs)("li",{onClick:()=>{g?d.push("/MyOrder"):A(!0)},children:[i.jsx(l(),{src:o.Ll.bag_icon,alt:"Order"}),i.jsx("p",{children:"Orders"})]}),i.jsx("hr",{}),(0,i.jsxs)("li",{onClick:t,children:[i.jsx(l(),{src:o.Ll.logout_icon,alt:"Logout"}),i.jsx("p",{children:"Logout"})]})]})]}):i.jsx("button",{onClick:()=>A(!0),className:"signInButton",children:"Sign In"}),m&&i.jsx(c.Z,{setShowSearchPopup:p})]})};a()}catch(e){a(e)}})},82377:(e,A,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.d(A,{Z:()=>u});var i=t(20997),s=t(16689);t(92865);var r=t(244),l=t(25675),o=t.n(l),n=t(87197),c=t(44563),d=t(39332),h=t(22880),g=e([c,h]);[c,h]=g.then?(await g)():g;let u=({setShowSearchPopup:e})=>{let[A,t]=(0,s.useState)(!1),[a,l]=(0,s.useState)(""),[h,g]=(0,s.useState)(""),[u,m]=(0,s.useState)([]),[p,x]=(0,s.useState)([]),[b,f]=(0,s.useState)(!1),[C,j]=(0,s.useState)(""),[w,E]=(0,s.useState)([]),[S,y]=(0,s.useState)(0),N=(0,d.useRouter)(),[B,D]=(0,s.useState)(!0);(0,s.useEffect)(()=>{t(!0)},[]),(0,s.useEffect)(()=>{if(A){let e=JSON.parse(localStorage.getItem("cartItems"))||[];E(e),y(e.reduce((e,A)=>e+A.quantity,0)),(async()=>{if(!I())try{f(!0);let e=await fetch("/api/categories");if(e.ok){let A=await e.json();m(A)}else throw Error("Failed to fetch categories")}catch(e){j(e.message)}finally{f(!1)}})()}},[A]);let R=async(e="",A="")=>{try{f(!0);let t=await fetch(`/api/selectitem?category=${e}&searchText=${A}`);if(t.ok){let e=await t.json();x(e)}else throw Error("Failed to fetch items")}catch(e){j(e.message)}finally{f(!1)}};(0,s.useEffect)(()=>{""===a.trim()||h?x([]):R("",a)},[a]);let U=e=>{l(""),g(e),R(e)},I=()=>{let A=localStorage.getItem("token");if(A)try{let t=jwt_decode(A);if(t&&1e3*t.exp<Date.now())return localStorage.removeItem("token"),e(!1),setShowLoginPopup(!0),!0}catch(e){console.error("Error decoding token:",e)}return!1},k=async e=>{let A;if(I())return;let t=w.findIndex(A=>A.foodId._id===e._id);if(t>-1){A=[...w],A[t].quantity+=1,E(A);try{let a=localStorage.getItem("token");if(!a)throw Error("No token found. Please log in first.");let i=await fetch("/api/cart/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:a,foodId:e._id,quantity:A[t].quantity})}),s=await i.json();i.ok&&s.success||console.error("Failed to update item quantity:",s.message)}catch(e){console.error("Error updating item quantity:",e)}}else{A=[...w,{foodId:e,quantity:1}],E(A);try{let A=localStorage.getItem("token");if(!A)throw Error("No token found. Please log in first.");let t=await fetch("/api/cart/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:A,foodId:e._id,quantity:1,imageUrl:e.imageUrl,name:e.name,price:e.price})}),a=await t.json();t.ok&&a.success||console.error("Failed to add item to cart:",a.message)}catch(e){console.error("Error adding item to cart:",e)}}},v=async e=>{let A;if(I())return;let t=w.findIndex(A=>A.foodId._id===e._id);if(t>-1){let a={...w[t]};if(a.quantity>1){a.quantity-=1,(A=[...w])[t]=a,E(A);try{let A=localStorage.getItem("token");if(!A)throw Error("No token found. Please log in first.");let t=await fetch("/api/cart/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:A,foodId:e._id,quantity:a.quantity})}),i=await t.json();t.ok&&i.success||console.error("Failed to update item quantity:",i.message)}catch(e){console.error("Error updating item quantity:",e)}}else{A=w.filter(A=>A.foodId._id!==e._id),E(A);try{let A=localStorage.getItem("token");if(!A)throw Error("No token found. Please log in first.");let t=await fetch("/api/cart/remove",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:A,foodId:e._id})}),a=await t.json();t.ok&&a.success||console.error("Failed to remove item from cart:",a.message)}catch(e){console.error("Error removing item from cart:",e)}}}};return(0,s.useEffect)(()=>{(async()=>{let e=localStorage.getItem("token");if(!e){j("No token found. Please log in."),D(!1);return}try{let A=await fetch("/api/cart/get",{method:"GET",headers:{Authorization:`Bearer ${e}`}}),t=await A.json();A.ok?t.cartItems&&0===t.cartItems.length?(E([]),j("")):E(t.cartItems):j(t.message||"Failed to fetch cart data")}catch(e){console.error("Error fetching cart:",e),j("Error fetching cart data")}finally{D(!1)}})()},[]),(0,s.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/categories"),A=await e.json();e.ok?m(A.categories):j("Failed to load categories")}catch(e){console.error("Error fetching categories:",e),j("Error fetching categories")}})()},[]),i.jsx("div",{className:"search-popup-overlay",children:(0,i.jsxs)("div",{className:"search-popup",children:[i.jsx("div",{className:"search-popup-header",children:i.jsx("h2",{children:"Search Items"})}),i.jsx("div",{className:"search-popup-body",children:(0,i.jsxs)("div",{className:"search-input-container",children:[(a||h)&&i.jsx("div",{className:"arrow-icon-button",onClick:()=>{g(""),l(""),x([])},children:i.jsx(n.FontAwesomeIcon,{icon:c.faArrowLeft,className:"arrow-icon"})}),i.jsx("input",{type:"text",className:"search-popup-input",placeholder:h?`${h}`:"Search for items...",value:a,onChange:e=>l(e.target.value),disabled:!!h}),a||h?i.jsx("button",{className:"clear-category-button",onClick:()=>{l(""),g(""),x([])},children:"\xd7"}):i.jsx("button",{className:"search-icon-button",children:i.jsx(o(),{src:r.Ll.search_icon,alt:"Search",className:"searchButton"})})]})}),(0,i.jsxs)("div",{className:"search-popup-categories",children:[i.jsx("div",{className:"categories-title2",children:!h&&!a&&i.jsx("div",{className:"categories-title1",children:"Popular Cuisines"})}),a||h?i.jsx("div",{className:"filtered-items",children:b?i.jsx("p",{className:"loading-item",children:"Loading items..."}):C?i.jsx("p",{className:"error",children:C}):p.length>0?i.jsx("div",{className:"items-list",children:p.map(e=>(0,i.jsxs)("div",{className:"item-row",children:[i.jsx("div",{className:"item-image",children:i.jsx("img",{src:e.imageUrl,alt:e.name})}),(0,i.jsxs)("div",{className:"item-details",children:[i.jsx("p",{className:"item-name",children:e.name}),i.jsx("p",{className:"item-description",children:"Dish"})]}),i.jsx("div",{children:w.some(A=>A.foodId&&A.foodId._id===e._id)?(0,i.jsxs)("div",{className:"quantity-controls",children:[i.jsx("button",{className:"quantity-decrease",onClick:()=>v(e),children:"-"}),i.jsx("span",{className:"quantity",children:w.find(A=>A.foodId._id===e._id)?.quantity}),i.jsx("button",{className:"quantity-increase",onClick:()=>k(e),children:"+"})]}):i.jsx("button",{className:"add-to-cart",onClick:()=>k(e),children:"Add"})})]},e._id))}):(0,i.jsxs)("p",{className:"empty",children:["No items found for ",h||a,"."]})}):i.jsx("div",{className:"categories-list1",children:b?i.jsx("p",{className:"loading-item",children:"Loading categories..."}):C?i.jsx("p",{className:"error",children:C}):u.length>0?i.jsx("div",{className:"categories-container",children:u.map((e,A)=>(0,i.jsxs)("div",{className:`category-item1 ${A<u.length-3?"has-border":""}`,onClick:()=>U(e.name),children:[i.jsx("img",{src:e.imageUrl,alt:e.name,className:"img1"}),i.jsx("p",{children:e.name})]},e._id))}):i.jsx("p",{className:"empty",children:"No categories found."})})]}),(0,i.jsxs)("div",{className:"cart-close",children:[i.jsx("button",{className:"search-popup-close",onClick:()=>e(!1),children:"Close"}),w.length>0&&(0,i.jsxs)("button",{onClick:()=>{N&&(e(!1),N.push("/Cart"))},className:"go-to-cart-button",children:["Go to Cart (",w.reduce((e,A)=>e+A.quantity,0),")"]})]})]})})};a()}catch(e){a(e)}})},84542:()=>{},8535:()=>{},97651:()=>{},91427:()=>{},92865:()=>{}};